"use strict";
var __cov_EZ6tso7m9EZ4cNOdsFcc1Q = (Function('return this'))();
if (!__cov_EZ6tso7m9EZ4cNOdsFcc1Q.__coverage__) { __cov_EZ6tso7m9EZ4cNOdsFcc1Q.__coverage__ = {}; }
__cov_EZ6tso7m9EZ4cNOdsFcc1Q = __cov_EZ6tso7m9EZ4cNOdsFcc1Q.__coverage__;
if (!(__cov_EZ6tso7m9EZ4cNOdsFcc1Q['C:\\Users\\Alasdair\\Documents\\GitHub\\moan\\src\\CommandLineInterface.js'])) {
   __cov_EZ6tso7m9EZ4cNOdsFcc1Q['C:\\Users\\Alasdair\\Documents\\GitHub\\moan\\src\\CommandLineInterface.js'] = {"path":"C:\\Users\\Alasdair\\Documents\\GitHub\\moan\\src\\CommandLineInterface.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":46,"loc":{"start":{"line":46,"column":13},"end":{"line":46,"column":23}}},"2":{"name":"(anonymous_2)","line":79,"loc":{"start":{"line":79,"column":22},"end":{"line":79,"column":25}}},"3":{"name":"(anonymous_3)","line":106,"loc":{"start":{"line":106,"column":18},"end":{"line":106,"column":33}}},"4":{"name":"(anonymous_4)","line":137,"loc":{"start":{"line":137,"column":21},"end":{"line":137,"column":29}}},"5":{"name":"(anonymous_5)","line":167,"loc":{"start":{"line":167,"column":6},"end":{"line":167,"column":9}}},"6":{"name":"(anonymous_6)","line":189,"loc":{"start":{"line":189,"column":6},"end":{"line":189,"column":9}}},"7":{"name":"(anonymous_7)","line":230,"loc":{"start":{"line":230,"column":15},"end":{"line":230,"column":18}}},"8":{"name":"(anonymous_8)","line":257,"loc":{"start":{"line":257,"column":7},"end":{"line":257,"column":14}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":12,"column":30}},"2":{"start":{"line":13,"column":0},"end":{"line":13,"column":44}},"3":{"start":{"line":14,"column":0},"end":{"line":14,"column":37}},"4":{"start":{"line":15,"column":0},"end":{"line":15,"column":24}},"5":{"start":{"line":16,"column":0},"end":{"line":16,"column":32}},"6":{"start":{"line":17,"column":0},"end":{"line":17,"column":34}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":28}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":40}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":32}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":32}},"11":{"start":{"line":24,"column":0},"end":{"line":24,"column":49}},"12":{"start":{"line":25,"column":0},"end":{"line":25,"column":39}},"13":{"start":{"line":26,"column":0},"end":{"line":26,"column":49}},"14":{"start":{"line":27,"column":0},"end":{"line":27,"column":41}},"15":{"start":{"line":28,"column":0},"end":{"line":28,"column":47}},"16":{"start":{"line":29,"column":0},"end":{"line":29,"column":35}},"17":{"start":{"line":30,"column":0},"end":{"line":30,"column":51}},"18":{"start":{"line":31,"column":0},"end":{"line":31,"column":33}},"19":{"start":{"line":47,"column":4},"end":{"line":47,"column":71}},"20":{"start":{"line":55,"column":4},"end":{"line":55,"column":35}},"21":{"start":{"line":63,"column":4},"end":{"line":71,"column":57}},"22":{"start":{"line":80,"column":4},"end":{"line":80,"column":43}},"23":{"start":{"line":81,"column":4},"end":{"line":81,"column":43}},"24":{"start":{"line":82,"column":4},"end":{"line":82,"column":43}},"25":{"start":{"line":84,"column":4},"end":{"line":84,"column":34}},"26":{"start":{"line":85,"column":4},"end":{"line":85,"column":34}},"27":{"start":{"line":86,"column":4},"end":{"line":86,"column":34}},"28":{"start":{"line":88,"column":4},"end":{"line":96,"column":5}},"29":{"start":{"line":89,"column":6},"end":{"line":89,"column":38}},"30":{"start":{"line":91,"column":6},"end":{"line":95,"column":33}},"31":{"start":{"line":107,"column":4},"end":{"line":107,"column":26}},"32":{"start":{"line":108,"column":4},"end":{"line":108,"column":38}},"33":{"start":{"line":110,"column":4},"end":{"line":110,"column":25}},"34":{"start":{"line":111,"column":4},"end":{"line":115,"column":5}},"35":{"start":{"line":112,"column":6},"end":{"line":112,"column":24}},"36":{"start":{"line":114,"column":6},"end":{"line":114,"column":82}},"37":{"start":{"line":117,"column":4},"end":{"line":125,"column":114}},"38":{"start":{"line":138,"column":4},"end":{"line":159,"column":5}},"39":{"start":{"line":139,"column":6},"end":{"line":139,"column":38}},"40":{"start":{"line":141,"column":6},"end":{"line":145,"column":7}},"41":{"start":{"line":142,"column":8},"end":{"line":142,"column":49}},"42":{"start":{"line":144,"column":8},"end":{"line":144,"column":41}},"43":{"start":{"line":147,"column":6},"end":{"line":154,"column":7}},"44":{"start":{"line":148,"column":8},"end":{"line":151,"column":21}},"45":{"start":{"line":153,"column":8},"end":{"line":153,"column":48}},"46":{"start":{"line":156,"column":6},"end":{"line":158,"column":7}},"47":{"start":{"line":157,"column":8},"end":{"line":157,"column":118}},"48":{"start":{"line":168,"column":4},"end":{"line":168,"column":75}},"49":{"start":{"line":170,"column":4},"end":{"line":176,"column":5}},"50":{"start":{"line":171,"column":6},"end":{"line":171,"column":74}},"51":{"start":{"line":173,"column":6},"end":{"line":173,"column":82}},"52":{"start":{"line":173,"column":47},"end":{"line":173,"column":81}},"53":{"start":{"line":175,"column":6},"end":{"line":175,"column":57}},"54":{"start":{"line":190,"column":4},"end":{"line":219,"column":6}},"55":{"start":{"line":191,"column":6},"end":{"line":191,"column":63}},"56":{"start":{"line":193,"column":6},"end":{"line":193,"column":90}},"57":{"start":{"line":194,"column":6},"end":{"line":196,"column":7}},"58":{"start":{"line":195,"column":8},"end":{"line":195,"column":76}},"59":{"start":{"line":198,"column":6},"end":{"line":198,"column":70}},"60":{"start":{"line":200,"column":6},"end":{"line":218,"column":8}},"61":{"start":{"line":201,"column":8},"end":{"line":217,"column":9}},"62":{"start":{"line":202,"column":10},"end":{"line":202,"column":55}},"63":{"start":{"line":203,"column":15},"end":{"line":217,"column":9}},"64":{"start":{"line":204,"column":10},"end":{"line":204,"column":52}},"65":{"start":{"line":206,"column":10},"end":{"line":206,"column":58}},"66":{"start":{"line":208,"column":10},"end":{"line":208,"column":116}},"67":{"start":{"line":210,"column":10},"end":{"line":210,"column":41}},"68":{"start":{"line":212,"column":10},"end":{"line":212,"column":76}},"69":{"start":{"line":214,"column":10},"end":{"line":214,"column":44}},"70":{"start":{"line":216,"column":10},"end":{"line":216,"column":30}},"71":{"start":{"line":231,"column":4},"end":{"line":247,"column":6}},"72":{"start":{"line":232,"column":6},"end":{"line":232,"column":29}},"73":{"start":{"line":234,"column":6},"end":{"line":234,"column":98}},"74":{"start":{"line":236,"column":6},"end":{"line":246,"column":8}},"75":{"start":{"line":237,"column":8},"end":{"line":245,"column":9}},"76":{"start":{"line":238,"column":10},"end":{"line":238,"column":106}},"77":{"start":{"line":240,"column":10},"end":{"line":240,"column":35}},"78":{"start":{"line":242,"column":10},"end":{"line":242,"column":80}},"79":{"start":{"line":244,"column":10},"end":{"line":244,"column":38}},"80":{"start":{"line":259,"column":4},"end":{"line":259,"column":30}},"81":{"start":{"line":261,"column":4},"end":{"line":261,"column":21}},"82":{"start":{"line":262,"column":4},"end":{"line":262,"column":28}},"83":{"start":{"line":264,"column":4},"end":{"line":264,"column":35}},"84":{"start":{"line":266,"column":4},"end":{"line":266,"column":30}},"85":{"start":{"line":268,"column":4},"end":{"line":319,"column":8}},"86":{"start":{"line":270,"column":8},"end":{"line":270,"column":31}},"87":{"start":{"line":272,"column":8},"end":{"line":272,"column":34}},"88":{"start":{"line":274,"column":8},"end":{"line":283,"column":12}},"89":{"start":{"line":276,"column":12},"end":{"line":276,"column":42}},"90":{"start":{"line":279,"column":12},"end":{"line":279,"column":25}},"91":{"start":{"line":282,"column":12},"end":{"line":282,"column":42}},"92":{"start":{"line":285,"column":8},"end":{"line":285,"column":26}},"93":{"start":{"line":288,"column":8},"end":{"line":294,"column":9}},"94":{"start":{"line":289,"column":10},"end":{"line":289,"column":21}},"95":{"start":{"line":291,"column":10},"end":{"line":291,"column":22}},"96":{"start":{"line":293,"column":10},"end":{"line":293,"column":63}},"97":{"start":{"line":297,"column":8},"end":{"line":299,"column":9}},"98":{"start":{"line":298,"column":10},"end":{"line":298,"column":37}},"99":{"start":{"line":301,"column":8},"end":{"line":301,"column":23}},"100":{"start":{"line":304,"column":8},"end":{"line":304,"column":38}},"101":{"start":{"line":306,"column":8},"end":{"line":312,"column":9}},"102":{"start":{"line":307,"column":10},"end":{"line":309,"column":11}},"103":{"start":{"line":308,"column":12},"end":{"line":308,"column":112}},"104":{"start":{"line":311,"column":10},"end":{"line":311,"column":68}},"105":{"start":{"line":314,"column":8},"end":{"line":316,"column":9}},"106":{"start":{"line":315,"column":10},"end":{"line":315,"column":44}},"107":{"start":{"line":318,"column":8},"end":{"line":318,"column":23}},"108":{"start":{"line":330,"column":0},"end":{"line":332,"column":1}},"109":{"start":{"line":334,"column":0},"end":{"line":334,"column":37}}},"branchMap":{"1":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":4}},{"start":{"line":88,"column":4},"end":{"line":88,"column":4}}]},"2":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":4},"end":{"line":111,"column":4}},{"start":{"line":111,"column":4},"end":{"line":111,"column":4}}]},"3":{"line":114,"type":"cond-expr","locations":[{"start":{"line":114,"column":59},"end":{"line":114,"column":75}},{"start":{"line":114,"column":78},"end":{"line":114,"column":80}}]},"4":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":4},"end":{"line":138,"column":4}},{"start":{"line":138,"column":4},"end":{"line":138,"column":4}}]},"5":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":6},"end":{"line":141,"column":6}},{"start":{"line":141,"column":6},"end":{"line":141,"column":6}}]},"6":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":6},"end":{"line":147,"column":6}},{"start":{"line":147,"column":6},"end":{"line":147,"column":6}}]},"7":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":10},"end":{"line":147,"column":21}},{"start":{"line":147,"column":25},"end":{"line":147,"column":50}}]},"8":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":6},"end":{"line":156,"column":6}},{"start":{"line":156,"column":6},"end":{"line":156,"column":6}}]},"9":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":4},"end":{"line":170,"column":4}},{"start":{"line":170,"column":4},"end":{"line":170,"column":4}}]},"10":{"line":193,"type":"binary-expr","locations":[{"start":{"line":193,"column":24},"end":{"line":193,"column":48}},{"start":{"line":193,"column":52},"end":{"line":193,"column":90}}]},"11":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":6},"end":{"line":194,"column":6}},{"start":{"line":194,"column":6},"end":{"line":194,"column":6}}]},"12":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":8},"end":{"line":201,"column":8}},{"start":{"line":201,"column":8},"end":{"line":201,"column":8}}]},"13":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":15},"end":{"line":203,"column":15}},{"start":{"line":203,"column":15},"end":{"line":203,"column":15}}]},"14":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":8},"end":{"line":237,"column":8}},{"start":{"line":237,"column":8},"end":{"line":237,"column":8}}]},"15":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8}},{"start":{"line":288,"column":8},"end":{"line":288,"column":8}}]},"16":{"line":297,"type":"if","locations":[{"start":{"line":297,"column":8},"end":{"line":297,"column":8}},{"start":{"line":297,"column":8},"end":{"line":297,"column":8}}]},"17":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8}},{"start":{"line":306,"column":8},"end":{"line":306,"column":8}}]},"18":{"line":307,"type":"if","locations":[{"start":{"line":307,"column":10},"end":{"line":307,"column":10}},{"start":{"line":307,"column":10},"end":{"line":307,"column":10}}]},"19":{"line":314,"type":"if","locations":[{"start":{"line":314,"column":8},"end":{"line":314,"column":8}},{"start":{"line":314,"column":8},"end":{"line":314,"column":8}}]}}};
}
__cov_EZ6tso7m9EZ4cNOdsFcc1Q = __cov_EZ6tso7m9EZ4cNOdsFcc1Q['C:\\Users\\Alasdair\\Documents\\GitHub\\moan\\src\\CommandLineInterface.js'];
__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['1']++;const chalk=require('chalk');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['2']++;const Command=require('commander').Command;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['3']++;const findup=require('findup-sync');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['4']++;const fs=require('fs');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['5']++;const moment=require('moment');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['6']++;const numeral=require('numeral');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['7']++;const path=require('path');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['8']++;const resolveModule=require('resolve');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['9']++;const globalMoan=require('..');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['10']++;const Utils=require('./Utils');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['11']++;const applyOptionsSymbol=Symbol('applyOptions');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['12']++;const commandSymbol=Symbol('command');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['13']++;const errorHandledSymbol=Symbol('errorHandled');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['14']++;const finalizeSymbol=Symbol('finalize');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['15']++;const handleErrorSymbol=Symbol('handleError');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['16']++;const localSymbol=Symbol('local');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['17']++;const loggedOptionsSymbol=Symbol('loggedOptions');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['18']++;const moanSymbol=Symbol('moan');class CommandLineInterface{constructor(options){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.f['1']++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['19']++;options=Object.assign({},CommandLineInterface.defaults,options);__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['20']++;this[moanSymbol]=options.moan;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['21']++;this[commandSymbol]=new Command().usage('[options] <task ...>').version(this[moanSymbol].version).option('-d, --debug','enable debug output').option('-f, --file [name]','specify alternative name for the Moaning file').option('--force','force tasks to run even after errors').option('-l, --list','list all available tasks').option('--no-color','disable color output').option('--stack','print stack traces for errors');}[applyOptionsSymbol](){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.f['2']++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['22']++;let color=!!this[commandSymbol].color;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['23']++;let debug=!!this[commandSymbol].debug;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['24']++;let force=!!this[commandSymbol].force;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['25']++;this[moanSymbol].color=color;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['26']++;this[moanSymbol].debug=debug;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['27']++;this[moanSymbol].force=force;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['28']++;if(!this[loggedOptionsSymbol]){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['1'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['29']++;this[loggedOptionsSymbol]=true;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['30']++;this[moanSymbol].log.debug('The following options have been used:').debug(`color: ${color}`).debug(`debug: ${debug}`).debug(`force: ${force}`);}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['1'][1]++;}}[finalizeSymbol](start,error){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.f['3']++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['31']++;let end=moment.utc();__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['32']++;let memory=process.memoryUsage();__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['33']++;let result='BUILD ';__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['34']++;if(error){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['2'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['35']++;result+='FAILED';}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['2'][1]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['36']++;result+=`SUCCESS${this[moanSymbol].hasFailures()?(__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['3'][0]++,' (WITH ERRORS)'):(__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['3'][1]++,'')}`;}__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['37']++;this[moanSymbol].log.write('\n').separator().write(chalk.bold(result)).write('\n').separator().write(`Total time: ${moment.utc(end.diff(start)).format('HH:mm:ss:SSS')}\n`).write(`Finished at: ${end.format('ddd MMM DD HH:mm:SS z YYYY')}\n`).write(`Final memory: ${numeral(memory.heapUsed).format('0b')}/${numeral(memory.heapTotal).format('0b')}\n`);}[handleErrorSymbol](error){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.f['4']++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['38']++;if(!error[errorHandledSymbol]){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['4'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['39']++;error[errorHandledSymbol]=true;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['40']++;if(error.message){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['5'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['41']++;this[moanSymbol].log.error(error.message);}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['5'][1]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['42']++;this[moanSymbol].log.error(error);}__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['43']++;if((__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['7'][0]++,error.stack)&&(__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['7'][1]++,this[commandSymbol].stack)){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['6'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['44']++;let stack=error.stack.split('\n').splice(1).join('\n');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['45']++;this[moanSymbol].log.write(`${stack}\n`);}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['6'][1]++;}__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['46']++;if(!this[commandSymbol].stack){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['8'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['47']++;this[moanSymbol].log.writeln('Use the --stack option to print stack traces for errors to help debug problems');}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['8'][1]++;}}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['4'][1]++;}}list(){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.f['5']++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['48']++;this[moanSymbol].log.debug('Logging available tasks for "list" option');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['49']++;if(this[moanSymbol].tasks.length){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['9'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['50']++;this[moanSymbol].log.writeln('The following tasks are available:\n');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['51']++;this[moanSymbol].tasks.forEach(task=>{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['52']++;return this[moanSymbol].log.writeln(task);});}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['9'][1]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['53']++;this[moanSymbol].log.writeln('No tasks were found');}}load(){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.f['6']++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['54']++;return new Promise((resolve,reject)=>{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['55']++;this[moanSymbol].log.debug('Trying to load Moaning file');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['56']++;let moaningFile=(__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['10'][0]++,this[commandSymbol].file)||(__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['10'][1]++,findup('Moaning.js',{nocase:true}));__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['57']++;if(!moaningFile){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['11'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['58']++;throw new Error(`Unable to find ${path.basename(moaningFile)} file`);}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['11'][1]++;}__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['59']++;this[moanSymbol].log.debug(`Found Moaning file: ${moaningFile}`);__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['60']++;fs.stat(moaningFile,(error,stat)=>{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['61']++;if(error){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['12'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['62']++;reject(`Unable to find file: ${moaningFile}`);}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['12'][1]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['63']++;if(!stat.isFile()){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['13'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['64']++;reject(`Not a valid file: ${moaningFile}`);}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['13'][1]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['65']++;let moaningDirectory=path.dirname(moaningFile);__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['66']++;this[moanSymbol].log.debug(`Changing directory that which contains the Moaning file: ${moaningDirectory}`);__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['67']++;process.chdir(moaningDirectory);__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['68']++;this[moanSymbol].log.debug(`Loading Moaning file: ${moaningFile}`);__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['69']++;require(path.resolve(moaningFile));__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['70']++;resolve(moaningFile);}}});});}[localSymbol](){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.f['7']++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['71']++;return new Promise(resolve=>{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['72']++;let cwd=process.cwd();__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['73']++;this[moanSymbol].log.debug(`Trying to resolve local "moan" module within directory: ${cwd}`);__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['74']++;resolveModule('moan',{basedir:cwd},(error,modulePath)=>{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['75']++;if(error){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['14'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['76']++;this[moanSymbol].log.warn('Could not find local "moan" module so falling back to global module');__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['77']++;resolve(this[moanSymbol]);}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['14'][1]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['78']++;this[moanSymbol].log.debug(`Local "moan" module found: ${modulePath}`);__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['79']++;resolve(require(modulePath));}});});}parse(args){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.f['8']++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['80']++;args=Utils.asArray(args);__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['81']++;let build=false;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['82']++;let start=moment.utc();__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['83']++;this[commandSymbol].parse(args);__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['84']++;this[applyOptionsSymbol]();__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['85']++;return this[localSymbol]().then(moan=>{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['86']++;this[moanSymbol]=moan;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['87']++;this[applyOptionsSymbol]();__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['88']++;moan.on('start',()=>{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['89']++;moan.log.writeln('Running...');}).on('done',()=>{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['90']++;moan.log.ok();}).on('error',(name,error)=>{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['91']++;this[handleErrorSymbol](error);});__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['92']++;return this.load();}).then(()=>{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['93']++;if(this[commandSymbol].list){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['15'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['94']++;this.list();}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['15'][1]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['95']++;build=true;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['96']++;return this[moanSymbol].run(this[commandSymbol].args);}}).then(()=>{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['97']++;if(build){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['16'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['98']++;this[finalizeSymbol](start);}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['16'][1]++;}__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['99']++;process.exit(0);}).catch(error=>{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['100']++;this[handleErrorSymbol](error);__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['101']++;if(this[moanSymbol].currentTask){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['17'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['102']++;if(!this[commandSymbol].force){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['18'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['103']++;this[moanSymbol].log.writeln('Use the --force option to continue running tasks even after an error');}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['18'][1]++;}__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['104']++;this[moanSymbol].log.writeln(chalk.bgRed.bold('Aborted!'));}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['17'][1]++;}__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['105']++;if(build){__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['19'][0]++;__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['106']++;this[finalizeSymbol](start,error);}else{__cov_EZ6tso7m9EZ4cNOdsFcc1Q.b['19'][1]++;}__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['107']++;process.exit(1);});}}__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['108']++;CommandLineInterface.defaults={moan:globalMoan};__cov_EZ6tso7m9EZ4cNOdsFcc1Q.s['109']++;module.exports=CommandLineInterface;
